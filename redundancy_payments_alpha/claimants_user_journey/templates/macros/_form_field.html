{% macro form_field(field, discrepancies={}, hint=None, optional=False) %}
    <p class="group {% if field.errors %}validation{% endif %} {% if field.id in discrepancies.keys() %} discrepancy {% endif %}" id="{{ field.id }}_question">
        {{ field.label }}
        {{ field }}
        {% if optional %}<span>&nbsp;(optional)</span>{% endif %}
        {% if field.errors %}
            {% for error in field.errors %}
                <span class="validation-message">{{ error }}</span>
            {% endfor %}
        {% endif %}
        {% if hint %}<span class="hint">{{ hint }}</span>{% endif %}
        {% if field.id in discrepancies.keys() %}
            <span class="hint">{{ discrepancies[field.id]|discrepancy_message(field.id) }}</span>
        {% endif %}
    </p>
{% endmacro %}
